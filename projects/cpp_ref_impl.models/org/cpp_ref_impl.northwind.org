#+title: cpp_ref_impl.northwind
#+options: <:nil c:nil todo:nil ^:nil d:nil date:nil author:nil
:PROPERTIES:
:masd.codec.dia.comment: true
:masd.codec.model_modules: cpp_ref_impl.northwind
:masd.codec.input_technical_space: cpp
:masd.codec.reference: cpp.builtins
:masd.codec.reference: cpp.std
:masd.codec.reference: cpp.boost
:masd.codec.reference: masd
:masd.codec.reference: cpp_ref_impl.profiles
:masd.physical.ignore_files_matching_regex: .*-odb.*
:masd.physical.ignore_files_matching_regex: .*/tests/.*
:masd.physical.delete_extra_files: true
:masd.physical.delete_empty_directories: true
:masd.cpp.enabled: true
:masd.cpp.standard: c++-17
:masd.cpp.hash.enabled: false
:masd.csharp.enabled: false
:masd.variability.profile: cpp_ref_impl.profiles.base.enable_all_facets
:masd.orm.database_system: sqlite
:masd.orm.database_system: postgresql
:masd.orm.letter_case: upper_case
:masd.orm.schema_name: northwind
:END:

The Northwind model is a "transliteration" of Microsoft's
Northwind database, provided as a sample for Access and SQL Server.
It's objective is to test Dogen integration with ODB.

* product_id                                                   :masd_element:
  :PROPERTIES:
  :masd.primitive.underlying_element: int
  :masd.codec.stereotypes: masd::orm::value, masd::primitive
  :END:
* products                                                     :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::object
  :END:
** product_id                                                :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_primary_key: true
   :masd.codec.type: product_id
   :END:
** product_name                                              :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: false
   :masd.codec.type: std::string
   :END:
** supplier_id                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: supplier_id
   :END:
** category_id                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: category_id
   :END:
** quantity_per_unit                                         :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: std::string
   :END:
** unit_price                                                :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: double
   :END:
** units_in_stock                                            :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: int
   :END:
** units_in_order                                            :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: int
   :END:
** reorder_level                                             :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: int
   :END:
** discontinued                                              :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: bool
   :END:
* supplier_id                                                  :masd_element:
  :PROPERTIES:
  :masd.primitive.underlying_element: int
  :masd.codec.stereotypes: masd::orm::value, masd::primitive
  :END:
* suppliers                                                    :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::object
  :END:
** supplier_id                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_primary_key: true
   :masd.codec.type: supplier_id
   :END:
** company_name                                              :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: std::string
   :END:
** contact_name                                              :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** contact_title                                             :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** address                                                   :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** city                                                      :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** region                                                    :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** postal_code                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** country                                                   :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** phone                                                     :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** fax                                                       :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** home_page                                                 :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
* category_id                                                  :masd_element:
  :PROPERTIES:
  :masd.primitive.underlying_element: int
  :masd.codec.stereotypes: masd::orm::value, masd::primitive
  :END:
* order_details                                                :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::object
  :END:
** order_details_key                                         :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_primary_key: true
   :masd.orm.is_composite: true
   :masd.codec.type: order_details_key
   :END:
** unit_price                                                :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: false
   :masd.codec.type: double
   :END:
** quantity                                                  :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: false
   :masd.codec.type: int
   :END:
** discount                                                  :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: false
   :masd.codec.type: double
   :END:
* order_details_key                                            :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::value
  :END:
** order_id                                                  :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: order_id
   :END:
** product_id                                                :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: product_id
   :END:
* orders                                                       :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::object
  :END:
** order_id                                                  :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_primary_key: true
   :masd.codec.type: order_id
   :END:
** customer_id                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: customer_id
   :END:
** employee_id                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: employee_id
   :END:
** order_date                                                :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: boost::gregorian::date
   :END:
** required_date                                             :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: boost::gregorian::date
   :END:
** shipped_date                                              :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: boost::gregorian::date
   :END:
** ship_via                                                  :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: int
   :END:
** freight                                                   :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: double
   :END:
** ship_name                                                 :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** ship_address                                              :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** ship_city                                                 :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** ship_region                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** ship_postal_code                                          :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** ship_country                                              :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
* order_id                                                     :masd_element:
  :PROPERTIES:
  :masd.primitive.underlying_element: int
  :masd.codec.stereotypes: masd::orm::value, masd::primitive
  :END:
* employee_id                                                  :masd_element:
  :PROPERTIES:
  :masd.primitive.underlying_element: int
  :masd.codec.stereotypes: masd::orm::value, masd::primitive
  :END:
* categories                                                   :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::object
  :END:
** category_id                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_primary_key: true
   :masd.codec.type: category_id
   :END:
** category_name                                             :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: std::string
   :END:
** description                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** picture                                                   :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
* employees                                                    :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::object
  :END:
** employee_id                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_primary_key: true
   :masd.codec.type: employee_id
   :END:
** last_name                                                 :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: false
   :masd.orm.odb_pragma: column("LASTNAME")
   :masd.codec.type: std::string
   :END:
** first_name                                                :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: false
   :masd.orm.odb_pragma: column("FIRSTNAME")
   :masd.codec.type: std::string
   :END:
** title                                                     :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** title_of_courtesy                                         :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** birth_date                                                :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.orm.odb_pragma: column("BIRTHDATE")
   :masd.codec.type: boost::gregorian::date
   :END:
** hire_date                                                 :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.orm.odb_pragma: column("HIREDATE")
   :masd.codec.type: boost::gregorian::date
   :END:
** address                                                   :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** city                                                      :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** region                                                    :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** postal_code                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** country                                                   :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** home_phone                                                :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** extension                                                 :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** photo                                                     :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** notes                                                     :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** reports_to                                                :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: employee_id
   :END:
* shipper_id                                                   :masd_element:
  :PROPERTIES:
  :masd.primitive.underlying_element: int
  :masd.codec.stereotypes: masd::orm::value, masd::primitive
  :END:
* shippers                                                     :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::object
  :END:
** shipper_id                                                :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_primary_key: true
   :masd.codec.type: shipper_id
   :END:
** company_name                                              :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: std::string
   :END:
** phone                                                     :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: std::string
   :END:
* customer_id                                                  :masd_element:
  :PROPERTIES:
  :masd.primitive.underlying_element: int
  :masd.codec.stereotypes: masd::orm::value, masd::primitive
  :END:
* customers                                                    :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::object
  :END:
** customer_id                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_primary_key: true
   :masd.codec.type: customer_id
   :END:
** customer_code                                             :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: std::string
   :END:
** company_name                                              :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: std::string
   :END:
** contact_name                                              :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** contact_title                                             :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** address                                                   :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** city                                                      :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** region                                                    :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** postal_code                                               :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** country                                                   :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** phone                                                     :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
** fax                                                       :masd_attribute:
   :PROPERTIES:
   :masd.orm.is_nullable: true
   :masd.codec.type: std::string
   :END:
* package                                                      :masd_element:
** class_0                                                     :masd_element:
   :PROPERTIES:
   :masd.codec.stereotypes: masd::orm::object
   :END:
*** prop_0                                                   :masd_attribute:
    :PROPERTIES:
    :masd.codec.type: int
    :END:
* non_orm_class                                                :masd_element:

test the ODB behaviour for non-ORM classes.

** prop_0                                                    :masd_attribute:
   :PROPERTIES:
   :masd.codec.type: int
   :END:
* main                                                         :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::entry_point, cpp_ref_impl::untypable
  :END:
* common                                                       :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::orm::common_odb_options
  :END:
* msbuild                                                      :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::visual_studio::msbuild_targets
  :END:
* CMakeLists                                                   :masd_element:
  :PROPERTIES:
  :masd.codec.stereotypes: masd::build::cmakelists
  :END:
